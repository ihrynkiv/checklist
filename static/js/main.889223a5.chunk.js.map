{"version":3,"sources":["components/Form.js","components/FilterButton.js","components/Todo.js","constants.js","components/Counter.js","contexts/ThemeContext.js","components/ThemeToggle.js","components/Navigation.js","components/Navbar.js","App.js","components/ThemeContextWrapper.js","index.js"],"names":["Form","reviews","active","title","name","url","className","htmlFor","target","href","FilterButton","isPressed","setFilter","type","aria-pressed","onClick","window","localStorage","setItem","Todo","props","id","checked","completed","onChange","toggleTaskCompleted","data-completed","CHECK_LIST_TYPES","CHECK_LIST","completedId","CHECK_STATE_ARR","Counter","tasks","onClear","completedTasks","filter","task","length","themes","ThemeContext","createContext","theme","changeTheme","THEMES","ThemeToggle","useState","getItem","isDarkMode","setIsDarkMode","Consumer","e","isDark","setTimeout","size","Navigation","onDelete","map","review","i","key","Navbar","author","repo","TABS_MAP","Style","Solution","Tests","TABS_NAMES","Object","keys","App","JSON","parse","setTasks","tab","setTab","navigate","useNavigate","useSearchParams","searchParams","get","setReviews","setActive","updatedTasks","currentReview","state","stringify","useEffect","dataJSON","data","alreadyExist","findIndex","item","includes","push","defaultState","taskList","filterList","inProgressItems","itemsNoun","headingText","listHeadingRef","useRef","prevTaskLength","value","ref","current","usePrevious","focus","location","tabIndex","role","aria-labelledby","newReviews","splice","activeId","ThemeContextWrapper","setTheme","document","body","classList","add","remove","Provider","children","ReactDOM","render","StrictMode","getElementById"],"mappings":"scAmBeA,EAhBF,SAAC,GAAgC,IAAD,QAA9BC,eAA8B,MAApB,GAAoB,MAAhBC,cAAgB,MAAP,EAAO,EACnCC,GAAe,OAAPF,QAAO,IAAPA,GAAA,UAAAA,EAAUC,EAAS,UAAnB,eAAuBE,OAHnB,sBAIZC,GAAa,OAAPJ,QAAO,IAAPA,GAAA,UAAAA,EAAUC,EAAS,UAAnB,eAAuBG,MAAO,GAC5C,OACE,8BACE,wBAAIC,UAAU,iBACZ,2BAAOC,QAAQ,iBAAiBD,UAAU,aAElCD,EAAO,uBAAGG,OAAO,SAASC,KAAMJ,GAAMF,GAAaA,MCSpDO,MAlBf,YAAqD,IAA9BC,EAA6B,EAA7BA,UAAWP,EAAkB,EAAlBA,KAAMQ,EAAY,EAAZA,UAMtC,OACE,4BACEC,KAAK,SACLP,UAAU,iBACVQ,eAAcH,EACdI,QAVuB,WACzBH,EAAUR,GACVY,OAAOC,aAAaC,QAAQ,MAAOd,KAUjC,8BAAOA,KCbE,SAASe,EAAKC,GAC3B,OACI,wBAAId,UAAU,QACZ,yBAAKA,UAAU,eACb,yBAAKA,UAAU,QACX,2BACEe,GAAID,EAAMC,GACVR,KAAK,WACLS,UAAWF,EAAMG,UACjBC,SAAU,kBAAMJ,EAAMK,oBAAoBL,EAAMC,OAElD,2BAAOf,UAAU,aAAaC,QAASa,EAAMC,GAAIK,iBAAgBN,EAAMG,WACpEH,EAAMhB,SCdhB,IAAMuB,EACF,QADEA,EAEC,WAFDA,EAGF,QAGEC,EAAa,CACtB,CAAEP,GAAI,IAAKjB,KAAM,uCAAwCyB,YAAa,EAAGhB,KAAMc,GAC/E,CAAEN,GAAI,IAAKjB,KAAM,+CAAgDyB,YAAa,EAAGhB,KAAMc,GACvF,CAAEN,GAAI,IAAKjB,KAAM,+CAAgDyB,YAAa,EAAGhB,KAAMc,GACvF,CAAEN,GAAI,IAAKjB,KAAM,iDAAkDyB,YAAa,EAAGhB,KAAMc,GACzF,CAAEN,GAAI,IAAKjB,KAAM,qDAAsDyB,YAAa,EAAGhB,KAAMc,GAE7F,CAAEN,GAAI,IAAKjB,KAAM,2CAA4CyB,YAAa,EAAGhB,KAAMc,GACnF,CAAEN,GAAI,IAAKjB,KAAM,6DAA8DyB,YAAa,EAAGhB,KAAMc,GACrG,CAAEN,GAAI,IAAKjB,KAAM,sEAAuEyB,YAAa,EAAGhB,KAAMc,GAC9G,CAAEN,GAAI,IAAKjB,KAAM,0EAA2EyB,YAAa,EAAGhB,KAAMc,GAClH,CAAEN,GAAI,IAAKjB,KAAM,+EAAgFyB,YAAa,EAAGhB,KAAMc,GAEvH,CAAEN,GAAI,KAAMjB,KAAM,kBAAmByB,YAAa,EAAGhB,KAAMc,GAC3D,CAAEN,GAAI,KAAMjB,KAAM,kBAAmByB,YAAa,EAAGhB,KAAMc,GAC3D,CAAEN,GAAI,KAAMjB,KAAM,sDAAuDyB,YAAa,EAAGhB,KAAMc,IAStFG,EAAkB,CALrB,OACG,UACD,UCzBCC,EAAU,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,QACtBC,EAAiBF,EAAMG,QAAO,SAAAC,GAAI,OAAIA,EAAKP,eAEjD,OACI,yBAAKvB,UAAU,WACX,6BAAM4B,EAAeG,OAArB,MAAgCL,EAAMK,QACtC,yBAAK/B,UAAU,iBAAiBS,QAASkB,GAAzC,WCNCK,EACH,OADGA,EAEF,QAGEC,EAAeC,wBAAc,CACtCC,MAAOH,EACPI,YAAa,e,iBCLXC,EACI,OADJA,EAEK,QAGEC,EAAc,WAAO,IAAD,EACOC,mBAAS7B,OAAOC,aAAa6B,QAAQ,WAAaH,GADzD,mBACtBI,EADsB,KACVC,EADU,KAO7B,OACI,kBAACT,EAAaU,SAAd,MACK,gBAAGP,EAAH,EAAGA,YAAH,EAAgBD,MAAhB,OACD,yBAAKnC,UAAU,UACX,kBAAC,IAAD,CACIkB,SAAU,SAAC0B,GAVD,IAACC,EACvBH,EADuBG,EAWWD,GATlClC,OAAOC,aAAaC,QAAQ,QAASiC,EAASR,EAAcA,GAU5CS,YAAW,kBAAMV,EAAYK,EAAaT,EAAeA,KAAc,MAE3EhB,QAASyB,EACTM,KAAM,U,gBCvBbC,EAAa,SAAC,GAAgD,IAAD,IAA9CrD,eAA8C,MAApC,GAAoC,EAAhCC,EAAgC,EAAhCA,OAAQsB,EAAwB,EAAxBA,SAAU+B,EAAc,EAAdA,SAExD,OACI,yBAAKjD,UAAU,cACX,yBAAKA,UAAYJ,EAAoC,kBAA3B,yBACrBa,QAAS,kBAAMS,EAAS,KACzB,kBAAC,IAAD,OAEHvB,EAAQuD,KAAI,SAACC,EAAQC,GAClB,IAAMpD,EAAYJ,IAAWwD,EAAI,EAAI,yBAA2B,kBAChE,OACI,yBAAKC,IAAKF,EAAOrD,KAAME,UAAWA,EAAWS,QAAS,kBAAMS,EAASkC,EAAI,KAAKA,EAAE,QAGrFxD,GACC,yBAAKI,UAAW,yBACfS,QAASwC,GACV,kBAAC,IAAD,S,QCjBHK,EAAS,SAAC,GAAuB,IAAtB3D,EAAqB,EAArBA,QAASC,EAAY,EAAZA,OAC7B,IAAKA,EACD,OAAQ,qCAF6B,MAKjBD,EAAQC,EAAS,GAAlC2D,EALkC,EAKlCA,OAAQC,EAL0B,EAK1BA,KAEf,OAAKA,GAASD,EAIV,yBAAKvD,UAAU,UACX,yBAAKA,UAAU,eAAc,uBAAGE,OAAO,SAASC,KAAI,6BAAwBoD,IAAU,kBAAC,IAAD,MAAzD,IAAuEA,EAAvE,MAC7B,yBAAKvD,UAAU,eAAc,uBAAGE,OAAO,SAASC,KAAI,uCAAkCqD,EAAlC,WAAgD,kBAAC,IAAD,MAAvE,IAAoFA,EAApF,OALzB,sCCShB,IAAMC,EAAW,CACfC,MAAO,SAAA5B,GAAI,OAAIA,EAAKvB,OAASc,GAC7BsC,SAAU,SAAA7B,GAAI,OAAIA,EAAKvB,OAASc,GAChCuC,MAAO,SAAA9B,GAAI,OAAIA,EAAKvB,OAASc,IAGzBwC,EAAaC,OAAOC,KAAKN,GA8JhBO,MA5Jf,WAAgB,IAAD,EACazB,mBAAS0B,KAAKC,MAAMvD,aAAa6B,QAAQ,kBADtD,mBACNd,EADM,KACCyC,EADD,OAGS5B,mBAAS7B,OAAOC,aAAa6B,QAAQ,QAAUnB,GAHxD,mBAGN+C,EAHM,KAGDC,EAHC,KAIPC,EAAWC,cAJJ,EAMUC,cAAhBC,EANM,oBAOP3E,EAAO2E,EAAaC,IAAI,QACxB3E,EAAM0E,EAAaC,IAAI,OACvBnB,EAASkB,EAAaC,IAAI,UAC1BlB,EAAOiB,EAAaC,IAAI,QAVjB,EAYiBnC,mBAAS0B,KAAKC,MAAMvD,aAAa6B,QAAQ,aAAe,IAZzE,mBAYN7C,EAZM,KAYGgF,EAZH,OAaepC,oBAAU5B,aAAa6B,QAAQ,iBAAmB,GAbjE,mBAaN5C,EAbM,KAaEgF,EAbF,KAwCb,SAASzD,EAAoBJ,GAC3B,IAAM8D,EAAenD,EAAMwB,KAAI,SAAApB,GAC7B,OAAIf,IAAOe,EAAKf,GACP,eAAIe,EAAX,CAAiBP,aAAcO,EAAKP,YAAc,GAAKC,EAAgBO,SAElED,KAETqC,EAASU,GACT,IAAMlF,EAAUsE,KAAKC,MAAMvD,aAAa6B,QAAQ,YAC1CsC,EAAa,OAAGnF,QAAH,IAAGA,OAAH,EAAGA,EAAUC,EAAS,GACrCkF,GACFA,EAAcC,MAAQF,EACtBlE,aAAaC,QAAQ,UAAWqD,KAAKe,UAAUrF,IAC/CgF,EAAWhF,IAEXgB,aAAaC,QAAQ,eAAgBqD,KAAKe,UAAUH,IAxCxDI,qBAAU,WACR,GAAInF,GAAQC,EAAM,CAChB,IAAMmF,EAAWvE,aAAa6B,QAAQ,YAAcyB,KAAKe,UAAU,IAC7DG,EAAOlB,KAAKC,MAAMgB,GAElBE,EAAeD,EAAKE,WAAU,SAAAC,GAAI,OAAIA,EAAKxF,OAASA,IAAUwF,EAAKvF,IAAIwF,SAASxF,IAAQA,EAAIwF,SAASD,EAAKvF,UAC3F,IAAlBqF,IACDD,EAAKK,KAAK,CAAC1F,OAAMC,MAAKwD,SAAQC,OAAMuB,MAAOzD,IAC3CX,aAAaC,QAAQ,UAAWqD,KAAKe,UAAUG,KAEjDxE,aAAaC,QAAQ,eAAiBwE,EAAe,GAAMD,EAAKpD,QAChE6C,EAAUQ,EAAe,MAE1B,CAAC7B,EAAQzD,EAAM0D,EAAMzD,IAGxBkF,qBAAU,WACR,IAC0B,EADpBQ,EAAexB,KAAKC,MAAMvD,aAAa6B,QAAQ,kBACrD,OAAI7C,QAAJ,IAAIA,OAAJ,EAAIA,EAAUC,EAAS,IACrBuE,GAAS,UAAAxE,EAAQC,EAAS,UAAjB,eAAqBmF,QAASzD,GACnB,IAAX1B,GAAgB6F,GACzBtB,EAASsB,KAEV,CAAC9F,EAASC,EAAQuE,IAqBrB,IAAMuB,EAAWhE,EAChBG,OAAO4B,EAASW,IAChBlB,KAAI,SAAApB,GAAI,OACP,kBAACjB,EAAD,CACEE,GAAIe,EAAKf,GACTjB,KAAMgC,EAAKhC,KACXmB,UAAWa,EAAKP,YAChB8B,IAAG,UAAKzD,EAAL,YAAekC,EAAKf,IACvBI,oBAAqBA,OAInBwE,EAAa9B,EAAWX,KAAI,SAAApD,GAAI,OACpC,kBAAC,EAAD,CACEuD,IAAKvD,EACLA,KAAMA,EACNO,UAAWP,IAASsE,EACpB9D,UAAW+D,OAITuB,EAAkBF,EAAS7D,QAAO,SAAAC,GAAI,OAAKA,EAAKhB,MAAMG,aACtD4E,EAAuC,IAA3BD,EAAgB7D,OAAe,QAAU,OACrD+D,EAAW,UAAMF,EAAgB7D,OAAtB,YAAgC8D,EAAhC,cAEXE,EAAiBC,iBAAO,MACxBC,EArGR,SAAqBC,GACnB,IAAMC,EAAMH,mBAIZ,OAHAf,qBAAU,WACRkB,EAAIC,QAAUF,KAETC,EAAIC,QAgGYC,CAAY3E,EAAMK,QAqCzC,OAtBAkD,qBAAU,WACJvD,EAAMK,OAASkE,KAAoB,GACrCF,EAAeK,QAAQE,UAExB,CAAC5E,EAAMK,OAAQkE,IAGlBhB,qBAAU,WACRX,EAAS,gBACR,CAACA,IAcF,yBAAKtE,UAAU,sBAAsBqD,IAAK3C,OAAO6F,SAASpG,MACxD,kBAAC,EAAD,CAAMR,QAASA,EAASC,OAAQA,IAChC,yBAAKI,UAAU,qCACZ2F,GAEH,wBAAI5E,GAAG,eAAeyF,SAAS,KAAKL,IAAKJ,GACtCD,GAEH,wBACEW,KAAK,OACLzG,UAAU,wCACV0G,kBAAgB,gBAEfhB,KAEA/F,EAAQoC,QACP,kBAAC,EAAD,CACEpC,QAASA,EACTC,OAAQA,EACRqD,SA/BW,WACnB,IAAM0D,EAAU,YAAOhH,GACvBgH,EAAWC,OAAOhH,EAAS,EAAG,GAE9Be,aAAaC,QAAQ,eAAgB,KACrCD,aAAaC,QAAQ,UAAWqD,KAAKe,UAAU2B,IAE/C/B,GAAU,kBAAM,KAChBD,GAAW,kBAAMgC,MAwBTzF,SAAU,SAAC2F,GACTlG,aAAaC,QAAQ,eAAgBiG,GACrCjC,EAAUiC,MAIlB,kBAAC,EAAD,CAAQlH,QAASA,EAASC,OAAQA,IAClC,kBAAC,EAAD,CAAS8B,MAAOA,EAAOC,QA/DN,WACnB,IAAMhC,EAAUsE,KAAKC,MAAMvD,aAAa6B,QAAQ,YAC1CsC,EAAa,OAAGnF,QAAH,IAAGA,OAAH,EAAGA,EAAUC,EAAS,GACrCkF,GACFA,EAAcC,MAAQzD,EACtBX,aAAaC,QAAQ,UAAWqD,KAAKe,UAAUrF,IAC/CgF,EAAWhF,IAEXgB,aAAaC,QAAQ,eAAgBqD,KAAKe,UAAU,CAAE1D,gBAExD6C,EAAS7C,MAsDP,kBAAC,EAAD,QChLS,SAASwF,EAAoBhG,GAAQ,IAAD,EACrByB,mBAAS7B,OAAOC,aAAa6B,QAAQ,UAAYR,GAD5B,mBACxCG,EADwC,KACjC4E,EADiC,KAmB/C,OAZA9B,qBAAU,WACN,OAAQ9C,GACJ,KAAKH,EACDgF,SAASC,KAAKC,UAAUC,IAAI,cAC5B,MACJ,KAAKnF,EACL,QACIgF,SAASC,KAAKC,UAAUE,OAAO,iBAGxC,CAACjF,IAGA,kBAACF,EAAaoF,SAAd,CAAuBnB,MAAO,CAAE/D,QAAOC,YAjBvB,SAACD,GACjB4E,EAAS5E,MAiBJrB,EAAMwG,UCTd3G,aAAa6B,QAAQ,iBACtB7B,aAAaC,QAAQ,eAAgBqD,KAAKe,UAAU1D,IAGxDiG,IAASC,OACL,kBAACV,EAAD,KACE,kBAAC,IAAMW,WAAP,KACI,kBAAC,IAAD,KACI,kBAAC,EAAD,SAIZT,SAASU,eAAe,W","file":"static/js/main.889223a5.chunk.js","sourcesContent":["import React from \"react\";\nconst DEFAULT_TITLE = 'PR Review CheckList'\n\nconst Form = ({reviews = [], active = 0}) => {\n    const title = reviews?.[active - 1]?.name || DEFAULT_TITLE\n    const url = reviews?.[active - 1]?.url || ''\n  return (\n    <form>\n      <h2 className=\"label-wrapper\">\n        <label htmlFor=\"new-todo-input\" className=\"label__lg\">\n            {\n                url ?  <a target=\"_blank\" href={url}>{title}</a> : title\n            }\n        </label>\n      </h2>\n    </form>\n  );\n}\n\nexport default Form;\n","import React from \"react\";\n\nfunction FilterButton({isPressed, name, setFilter}) {\n  const handleFilterChange = () => {\n    setFilter(name)\n    window.localStorage.setItem('tab', name)\n  }\n\n  return (\n    <button\n      type=\"button\"\n      className=\"btn toggle-btn\"\n      aria-pressed={isPressed}\n      onClick={handleFilterChange}\n    >\n      <span>{name}</span>\n    </button>\n  );\n}\n\nexport default FilterButton;\n","import React from \"react\";\n\nexport default function Todo(props) {\n  return (\n      <li className=\"todo\">\n        <div className=\"stack-small\">\n          <div className=\"c-cb\">\n              <input\n                id={props.id}\n                type=\"checkbox\"\n                checked={!!props.completed}\n                onChange={() => props.toggleTaskCompleted(props.id)}\n              />\n              <label className=\"todo-label\" htmlFor={props.id} data-completed={props.completed}>\n                {props.name}\n              </label>\n            </div>\n        </div>\n      </li>\n  );\n}\n","export const CHECK_LIST_TYPES = {\n    STYLE: \"Style\",\n    SOLUTION: \"Solution\",\n    TESTS: \"Tests\",\n}\n\nexport const CHECK_LIST = [\n    { id: \"0\", name: \"Variables named by what they contain\", completedId: 0, type: CHECK_LIST_TYPES.STYLE},\n    { id: \"1\", name: \"Functions are named by what they actually do\", completedId: 0, type: CHECK_LIST_TYPES.STYLE },\n    { id: \"3\", name: \"There are no commented code and console logs\", completedId: 0, type: CHECK_LIST_TYPES.STYLE },\n    { id: \"2\", name: \"Filename is consistent with the component name\", completedId: 0, type: CHECK_LIST_TYPES.STYLE },\n    { id: \"4\", name: \"Do not use reserved names in naming other entities\", completedId: 0, type: CHECK_LIST_TYPES.STYLE },\n\n    { id: \"9\", name: \"There is no unnecessary code duplication\", completedId: 0, type: CHECK_LIST_TYPES.SOLUTION },\n    { id: \"6\", name: \"Edge cases: All edge cases are covered. Errors are handled\", completedId: 0, type: CHECK_LIST_TYPES.SOLUTION },\n    { id: \"8\", name: \"Backward compatibility: New code should work with old functionality\", completedId: 0, type: CHECK_LIST_TYPES.SOLUTION },\n    { id: \"7\", name: \"Dependencies: How written code can influence other parts of the project\", completedId: 0, type: CHECK_LIST_TYPES.SOLUTION },\n    { id: \"5\", name: \"PR is relevant to the story. You should understand how it solves the problem\", completedId: 0, type: CHECK_LIST_TYPES.SOLUTION },\n\n    { id: \"10\", name: \"Tests for utils\", completedId: 0, type: CHECK_LIST_TYPES.TESTS },\n    { id: \"11\", name: \"Tests for hooks\", completedId: 0, type: CHECK_LIST_TYPES.TESTS },\n    { id: \"12\", name: \"Tests for store items (reducers, selectors, thunks)\", completedId: 0, type: CHECK_LIST_TYPES.TESTS },\n];\n\nexport const CHECK_STATES = {\n    NONE: 'None',\n    SUCCESS: 'Success',\n    FAILED: 'Failed'\n}\n\nexport const CHECK_STATE_ARR = [CHECK_STATES.NONE, CHECK_STATES.SUCCESS, CHECK_STATES.FAILED]","import React from 'react'\n\nexport const Counter = ({tasks, onClear}) => {\n    const completedTasks = tasks.filter(task => task.completedId)\n\n    return (\n        <div className=\"counter\">\n            <div>{completedTasks.length} / {tasks.length}</div>\n            <div className='btn btn__clear' onClick={onClear}>Clear</div>\n        </div>\n    )\n}","import { createContext } from \"react\";\n\nexport const themes = {\n    dark: \"dark\",\n    light: \"light\",\n};\n\nexport const ThemeContext = createContext({\n    theme: themes.light,\n    changeTheme: () => {},\n});","import React, { useState} from \"react\";\nimport { ThemeContext, themes } from '../contexts/ThemeContext';\nimport DarkModeToggle from \"react-dark-mode-toggle\";\n\nconst THEMES = {\n    DARK: 'dark',\n    LIGHT: 'light'\n}\n\nexport const ThemeToggle = () => {\n    const [isDarkMode, setIsDarkMode] = useState(window.localStorage.getItem('theme') === THEMES.DARK)\n    const handleThemeChange = (isDark) => {\n        setIsDarkMode(isDark)\n        window.localStorage.setItem('theme', isDark ? THEMES.DARK : THEMES.LIGHT )\n    }\n\n    return (\n        <ThemeContext.Consumer>\n            {({ changeTheme, theme }) => (\n            <div className=\"switch\">\n                <DarkModeToggle\n                    onChange={(e) => {\n                        handleThemeChange(e)\n                        setTimeout(() => changeTheme(isDarkMode ? themes.light : themes.dark), 350)\n                    }}\n                    checked={isDarkMode}\n                    size={80}\n                />\n            </div>\n            )}\n        </ThemeContext.Consumer>\n    )\n}","import React from \"react\";\nimport {AiFillDelete, BsFillStarFill} from \"react-icons/all\";\n\nexport const Navigation = ({reviews = [], active, onChange, onDelete}) => {\n\n    return (\n        <div className='navigation'>\n            <div className={!active ? 'navigation-item active' : 'navigation-item'}\n                 onClick={() => onChange(0)}>\n                <BsFillStarFill/>\n            </div>\n            {reviews.map((review, i) => {\n                const className = active === i + 1 ? 'navigation-item active' : 'navigation-item'\n                return (\n                    <div key={review.name} className={className} onClick={() => onChange(i + 1)}>{i+1}</div>\n                )\n            })}\n            {!!active &&\n                <div className={'navigation-item delete'}\n                 onClick={onDelete}>\n                <AiFillDelete/>\n            </div>}\n        </div>\n    )\n}","import React from 'react'\nimport {BsGithub, FaRegUser} from \"react-icons/all\";\n\nexport const Navbar = ({reviews, active}) => {\n    if (!active) {\n        return (<></>)\n    }\n\n    const {author, repo } = reviews[active - 1]\n\n    if (!repo || !author) {\n        return (<></>)\n    }\n    return (\n        <div className=\"navbar\">\n            <div className=\"navbar-item\"><a target=\"_blank\" href={`https://github.com/${author}`}><FaRegUser/> {author} </a></div>\n            <div className=\"navbar-item\"><a target=\"_blank\" href={`https://github.com/MackeyRMS/${repo}/pulls`}><BsGithub/> {repo} </a></div>\n        </div>\n    )\n}","import React, { useState, useRef, useEffect } from \"react\";\nimport {useNavigate, useSearchParams} from \"react-router-dom\"\n\nimport Form from \"./components/Form\";\nimport FilterButton from \"./components/FilterButton\";\nimport Todo from \"./components/Todo\";\nimport {CHECK_LIST, CHECK_LIST_TYPES, CHECK_STATE_ARR} from \"./constants\";\nimport {Counter} from \"./components/Counter\";\nimport {ThemeToggle} from \"./components/ThemeToggle\";\nimport {Navigation} from \"./components/Navigation\";\nimport {Navbar} from \"./components/Navbar\";\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nconst TABS_MAP = {\n  Style: task => task.type === CHECK_LIST_TYPES.STYLE,\n  Solution: task => task.type === CHECK_LIST_TYPES.SOLUTION,\n  Tests: task => task.type === CHECK_LIST_TYPES.TESTS,\n};\n\nconst TABS_NAMES = Object.keys(TABS_MAP);\n\nfunction App() {\n  const [tasks, setTasks] = useState(JSON.parse(localStorage.getItem('defaultState')));\n\n  const [tab, setTab] = useState(window.localStorage.getItem('tab') || CHECK_LIST_TYPES.STYLE);\n  const navigate = useNavigate();\n\n  const [searchParams] = useSearchParams()\n  const name = searchParams.get(\"name\")\n  const url = searchParams.get(\"url\")\n  const author = searchParams.get(\"author\")\n  const repo = searchParams.get(\"repo\")\n\n  const [reviews, setReviews] = useState(JSON.parse(localStorage.getItem('reviews')) || [])\n  const [active, setActive] = useState(+localStorage.getItem('activeReview') || 0)\n\n  useEffect(() => {\n    if (name && url ) {\n      const dataJSON = localStorage.getItem('reviews') || JSON.stringify([])\n      const data = JSON.parse(dataJSON)\n\n      const alreadyExist = data.findIndex(item => item.name === name  && (item.url.includes(url) || url.includes(item.url)))\n      if(alreadyExist === -1) {\n        data.push({name, url, author, repo, state: CHECK_LIST})\n        localStorage.setItem('reviews', JSON.stringify(data))\n      }\n      localStorage.setItem('activeReview', (alreadyExist + 1) || data.length)\n      setActive(alreadyExist + 1)\n    }\n  }, [author, name, repo, url])\n\n\n  useEffect(() => {\n    const defaultState = JSON.parse(localStorage.getItem('defaultState'))\n    if (reviews?.[active - 1]){\n      setTasks(reviews[active - 1]?.state || CHECK_LIST)\n    } else if (active === 0 && defaultState){\n      setTasks(defaultState)\n    }\n  }, [reviews, active, setTasks])\n\n  function toggleTaskCompleted(id) {\n    const updatedTasks = tasks.map(task => {\n      if (id === task.id) {\n        return {...task, completedId: (task.completedId + 1) % CHECK_STATE_ARR.length}\n      }\n      return task;\n    });\n    setTasks(updatedTasks);\n    const reviews = JSON.parse(localStorage.getItem('reviews'))\n    const currentReview = reviews?.[active - 1]\n    if (currentReview) {\n      currentReview.state = updatedTasks\n      localStorage.setItem('reviews', JSON.stringify(reviews))\n      setReviews(reviews)\n    } else {\n      localStorage.setItem('defaultState', JSON.stringify(updatedTasks))\n    }\n  }\n\n  const taskList = tasks\n  .filter(TABS_MAP[tab])\n  .map(task => (\n    <Todo\n      id={task.id}\n      name={task.name}\n      completed={task.completedId}\n      key={`${active}-${task.id}`}\n      toggleTaskCompleted={toggleTaskCompleted}\n    />\n  ));\n\n  const filterList = TABS_NAMES.map(name => (\n    <FilterButton\n      key={name}\n      name={name}\n      isPressed={name === tab}\n      setFilter={setTab}\n    />\n  ));\n\n  const inProgressItems = taskList.filter(task => !task.props.completed)\n  const itemsNoun = inProgressItems.length !== 1 ? 'items' : 'item';\n  const headingText = `${inProgressItems.length} ${itemsNoun} remaining`;\n\n  const listHeadingRef = useRef(null);\n  const prevTaskLength = usePrevious(tasks.length);\n\n  const clearHandler = () => {\n    const reviews = JSON.parse(localStorage.getItem('reviews'))\n    const currentReview = reviews?.[active - 1]\n    if (currentReview) {\n      currentReview.state = CHECK_LIST\n      localStorage.setItem('reviews', JSON.stringify(reviews))\n      setReviews(reviews)\n    } else {\n      localStorage.setItem('defaultState', JSON.stringify({ CHECK_LIST }))\n    }\n    setTasks(CHECK_LIST)\n  }\n\n  useEffect(() => {\n    if (tasks.length - prevTaskLength === -1) {\n      listHeadingRef.current.focus();\n    }\n  }, [tasks.length, prevTaskLength]);\n\n\n  useEffect(() => {\n    navigate('/checklist')\n  }, [navigate])\n\n  const handleDelete = () => {\n    const newReviews = [...reviews]\n    newReviews.splice(active - 1, 1)\n\n    localStorage.setItem('activeReview', '0')\n    localStorage.setItem('reviews', JSON.stringify(newReviews))\n\n    setActive(() => 0)\n    setReviews(() => newReviews)\n  }\n\n  return (\n    <div className=\"todoapp stack-large\" key={window.location.href}>\n      <Form reviews={reviews} active={active}/>\n      <div className=\"filters btn-group stack-exception\">\n        {filterList}\n      </div>\n      <h2 id=\"list-heading\" tabIndex=\"-1\" ref={listHeadingRef}>\n        {headingText}\n      </h2>\n      <ul\n        role=\"list\"\n        className=\"todo-list stack-large stack-exception\"\n        aria-labelledby=\"list-heading\"\n      >\n        {taskList}\n      </ul>\n      {!!reviews.length &&\n          <Navigation\n            reviews={reviews}\n            active={active}\n            onDelete={handleDelete}\n            onChange={(activeId) => {\n              localStorage.setItem('activeReview', activeId)\n              setActive(activeId)\n            }}\n          />\n      }\n      <Navbar reviews={reviews} active={active}/>\n      <Counter tasks={tasks} onClear={clearHandler}/>\n      <ThemeToggle/>\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useState, useEffect } from 'react';\nimport { ThemeContext, themes } from '../contexts/ThemeContext';\n\nexport default function ThemeContextWrapper(props) {\n    const [theme, setTheme] = useState(window.localStorage.getItem('theme') || themes.light);\n\n    const changeTheme = (theme) => {\n        setTheme(theme);\n    }\n\n    useEffect(() => {\n        switch (theme) {\n            case themes.dark:\n                document.body.classList.add('dark-theme');\n                break;\n            case themes.light:\n            default:\n                document.body.classList.remove('dark-theme');\n                break;\n        }\n    }, [theme]);\n\n    return (\n        <ThemeContext.Provider value={{ theme, changeTheme }}>\n            {props.children}\n        </ThemeContext.Provider>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport './styles/checkbox.scss'\nimport './styles/buttons.scss'\nimport './styles/todo.scss'\nimport './styles/navbar.scss'\nimport './styles/navigation.scss'\nimport './styles/theme-toggle.scss'\nimport './styles/dark.scss';\nimport App from './App';\nimport {CHECK_LIST} from \"./constants\";\nimport ThemeContextWrapper from \"./components/ThemeContextWrapper\";\nimport { BrowserRouter } from \"react-router-dom\"\n\nif (!localStorage.getItem('defaultState')) {\n    localStorage.setItem('defaultState', JSON.stringify(CHECK_LIST))\n}\n\nReactDOM.render(\n    <ThemeContextWrapper>\n      <React.StrictMode>\n          <BrowserRouter>\n              <App/>\n          </BrowserRouter>\n      </React.StrictMode>\n    </ThemeContextWrapper>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}